<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no, viewport-fit=cover">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
   <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js"></script>
  <script src="https://vk.com/js/api/mobile_sdk.js"  type="text/javascript"></script>
  <title>Ссылка текстом на страницу ВК</title>
</head>

<body style="background: rgb(194,255,185); background: linear-gradient(90deg, rgba(194,255,185,1) 0%, rgba(229,255,242,1) 52%, rgba(156,238,255,1) 100%);">
<script language="javascript">
            VK.init({
              apiId: 7223908
            });
            </script>
               
<div class="container my-5">
    <h1 class="mb-5">Ссылка текстом на страницу ВК</h1>
    <div class="card mb-5">
        <div class="card-body">

    <label class="form-label">Ссылка на страницу ВКонтакте:</label>
    <input type="text" id="vkLink" class="form-control" placeholder="Ссылка на страницу ВКонтакте">
    <label class="form-label">Описание ссылки:</label>
    <input type="text" id="description" class="form-control" placeholder="Описание ссылки">
    <button id="createLink" class="btn btn-primary">Создать ссылку</button>
    <button id="clearFields" class="btn btn-secondary">Очистить</button>
    <br><br>
    <input type="text" id="result" class="form-control" placeholder="Результат" readonly>
    
    <div class="alert alert-primary d-flex align-items-center" role="alert">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2" viewBox="0 0 16 16" role="img" aria-label="Warning:">
          <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
        </svg>
        <div>
            При продвижении сообществ и оформлении личных постов часто возникает необходимость в создании текстовых ссылок. Они органично смотрятся в тексте и весьма привлекательны для посетителей. 
        </div>
    </div>
    <button class="btn btn-success" onclick="CopyLinkWA();">Скопировать</button>
    <div class="toast align-items-center text-white bg-success border-2" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
          <div class="toast-body">
            Скопировано!
          </div>
         </div>
      </div>
    </div>
  </div>
  <div class="container my-5">
    <p>Разработано в <a href="https://vk.com/reklamsky">Реклама в группах</a></p>
  </div>
  <script>
    const vkLinkInput = document.getElementById("vkLink");
    const descriptionInput = document.getElementById("description");
    const createLinkButton = document.getElementById("createLink");
    const clearFieldsButton = document.getElementById("clearFields");
    const resultInput = document.getElementById("result");
    const copyResultButton = document.getElementById("copyResult");

    createLinkButton.addEventListener("click", function() {
      const vkLink = vkLinkInput.value.trim();
      const description = descriptionInput.value.trim();
      const lastPart = vkLink.substring(vkLink.lastIndexOf("/") + 1);
      resultInput.value = `@${vkLink} (${description})`;
    });

    clearFieldsButton.addEventListener("click", function() {
      vkLinkInput.value = "";
      descriptionInput.value = "";
      resultInput.value = "";
    });

    copyResultButton.addEventListener("click", function() {
      resultInput.select();
      document.execCommand("copy");
      alert("Результат скопирован в буфер обмена");
    });


    function CopyLinkWA() {
            /* Get the text field */
            var copyText = document.getElementById("result");

            /* Select the text field */
            copyText.select();
            copyText.setSelectionRange(0, 99999); /* For mobile devices */

            /* Copy the text inside the text field */
            navigator.clipboard.writeText(copyText.value);

            /* Alert the copied text
            alert("Текст скопирован: " + copyText.value); */
            var toastElList = [].slice.call(document.querySelectorAll('.toast'))
        var toastList = toastElList.map(function(toastEl) {
        // Creates an array of toasts (it only initializes them)
          return new bootstrap.Toast(toastEl) // No need for options; use the default options
        });
       toastList.forEach(toast => toast.show()); // This show them
         

        }

  </script>
</body>

</html>